From c717904bccd80e0ac083c1983c4415af8404860d Mon Sep 17 00:00:00 2001
From: Huw Jones <huw@pexip.com>
Date: Tue, 15 Feb 2022 17:52:16 +0000
Subject: [PATCH] Fix tests to work with pylint 2.2.2

---
 tests/test_functional.py | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/tests/test_functional.py b/tests/test_functional.py
index 37b2ede..c035b10 100644
--- a/tests/test_functional.py
+++ b/tests/test_functional.py
@@ -2,8 +2,7 @@
 import csv
 from pathlib import Path
 
-from pylint.testutils import LintModuleTest
-from pylint.testutils.functional_test_file import FunctionalTestFile
+from pylint.test.test_functional import LintModuleTest, FunctionalTestFile
 
 import pylint_twisted

@@ -23,4 +23,4 @@ def test_reactor_inference() -> None:
     test_file = FunctionalTestFile(TEST_DIR, "reactor.py")
     lint_test = LintModuleTest(test_file)
     lint_test.setUp()
-    lint_test.runTest()
+    lint_test._runTest()

diff --git a/tests/reactor.py b/tests/reactor.py
index 37b2ede..c035b10 100644
--- a/tests/reactor.py
+++ b/tests/reactor.py
@@ -1,8 +1,8 @@
-# [missing-module-docstring]
+# [missing-docstring]
 from twisted.internet import reactor


-def call_when_running():  # [missing-function-docstring]
+def call_when_running():  # [missing-docstring]
     reactor.attr_error()  # [no-member]
     reactor.stop()

diff --git a/tests/reactor.txt b/tests/reactor.txt
index 28c8e17..c035b10 100644
--- a/tests/reactor.txt
+++ b/tests/reactor.txt
@@ -1,3 +1,3 @@
-missing-module-docstring:1:0:None:None::Missing module docstring:HIGH
-missing-function-docstring:5:0:7:18:call_when_running:Missing function or method docstring:HIGH
-no-member:6:4:6:22:call_when_running:Instance of 'EPollReactor' has no 'attr_error' member:INFERENCE
+missing-docstring:1::Missing module docstring:HIGH
+missing-docstring:5:call_when_running:Missing function docstring:HIGH
+no-member:6:call_when_running:Instance of 'EPollReactor' has no 'attr_error' member:INFERENCE

-- 
2.30.2

